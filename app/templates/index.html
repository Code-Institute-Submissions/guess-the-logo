{% extends 'base.html' %}

{% block content %}
    <div id="index">
        <div id="index-wrapper">


            <!-- LEFT CONTENT -->
            <div class="index-left index-content">

                <!-- LOGIN / REGISTER FORM -->
                {% if not 'user' in session%}
                    <h2 class="heading">Login / Register</h2>


                    <!-- FORM -->
                    <form action="" method="POST" autocomplete="off" novalidate>
                        {{ login_form.hidden_tag() }}

                        <!-- USERNAME -->
                        <div class="input">{{ login_form.username.label }}<br />{{ login_form.username() }}</div>
                        <!-- hide if no errors -->
                        {% if login_form.username.errors %}
                        <div class="error with-shadow">{% for error in login_form.username.errors %}<span>{{ error }}</span>{% endfor %}</div>
                        {% endif %}
                        <!-- PASSWORD -->
                        <div class="input">{{ login_form.password.label }}<br />{{ login_form.password() }}</div>
                        <!-- hide if no errors -->
                        {% if login_form.password.errors %}
                        <div class="error with-shadow">{% for error in login_form.password.errors %}<span>{{ error }}</span>{% endfor %}</div>
                        {% endif %}
                        <!-- SUBMIT -->
                        <div class="submit-button">{{ login_form.submit(class_="blue-button") }}</div>
                    </form>



                <!-- USER INFORMATION / PLAY GAME -->
                {% else %}
                    <h2 class="heading">Welcome, {{ session.user.capitalize() }}</h2>

                    <!-- USER SCORES -->
                    <div id="index-user-info">
                        <p><i class="fas fa-calendar-alt"></i>Last Played: {{ moment(session.last_played).format('ddd, Do MMM') }}</p>
                        <p><i class="fas fa-dice"></i>Times Played: {{ session.times_played }}</p>
                        <p><i class="fas fa-stopwatch"></i>Best Time: {{ session.best_time }}</p>
                        <p><i class="fas fa-hat-wizard"></i>Best Score: {{ session.best_score }}</p>
                        <p><i class="fas fa-star"></i>Rating: {{ session.rating }}</p>
                    </div>
                    <br />


                    <!-- GO TO GAME BUTTON -->
                    <a href="{{ url_for('game') }}"><button class="blue-button">play game</button></a>
                {% endif %}
            </div>



            <!-- RIGHT CONTENT / GAME RULES-->
            <div class="index-right index-content">
                <h2 class="heading">How To Play</h2>
                <ul>
                    <li>You will be presented with <strong>30 brand logos</strong></li>
                    <li>You will be <strong>timed</strong> from <strong>start to finish</strong></li>
                    <li>You may <strong>skip</strong> an answer, but you <strong>can't</strong> go back</li>
                    <li>You may attempt a question <strong>multiple</strong> times</li>
                    <li>You will be <strong>rated</strong> on: score <strong>minus</strong> your time</li>
                    <li>If you <strong>quit</strong>, your score will <strong>not</strong> be recorded</li>
                </ul>
                <p><i>Good Luck!</i></p>
            </div>
        </div>
    </div>
{% endblock %}